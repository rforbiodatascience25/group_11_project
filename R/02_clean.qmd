---
title: "02_clean"
format: html
---

# clean data

## join expression and meta data

```{r}
library(tidyverse)

  
  
```

```{r}
ri_expression_data |> 
  pivot_longer(cols = -X,
               names_to = "sample",
               values_to = "expression") |> 
  inner_join(ri_metadata, by = c("sample" = "GC.code" )) |> 
  filter(Exp == "RI_batch_WC") |> 
  select(X,expression,sample) |> 
  pivot_wider(names_from = sample,
              values_from = expression) |> 
  write_csv("../data/02_data_clean.csv")


```

## Clean fermentation data

```{r}

ri_fermentation_data |>
  filter(Exp == "RI_batch_WC1") |>
  select( "Rowname" | (starts_with("T") & ends_with("h")) ) |>
  select(where(~!all(is.na(.x)) ) ) |>
  write_csv("../data/02_fermentation_data_clean.csv")

```
